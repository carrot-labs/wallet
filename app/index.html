<!doctype html>
<html lang="en-us">
<head>
  <title>Wallet</title>

  <!-- Meta information -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Favicon -->
  <link rel="shortcut icon" href="favicon.png">

  <!-- Webcomponents polyfills -->
  <script src="components/webcomponentsjs/webcomponents.min.js"></script>

  <!-- Custom styles -->
  <link rel="stylesheet" href="styles/main.css">

  <!-- Polymer and custom elements -->
  <link rel="import" href="elements/elements.html">

  <!-- Pages -->
  <link rel="import" href="pages/pages.html">
</head>

<body fullbleed layout vertical unresolved>

  <template id="app" is="auto-binding">

    <core-animated-pages selected="{{route.name}}" valueattr="route" transitions="cross-fade" fit>
      <section route="contacts">
        <contacts-page cross-fade route="{{route.subroute}}"></contacts-page>
      </section>

      <section route="info">
        <info-page cross-fade route="{{route}}" contactId="{{route.detail.id}}"></info-page>
      </section>

      <section route="add">
        <add-page cross-fade></add-page>
      </section>
    </core-animated-pages>

  </template>

  <script src="components/socket.io-client/socket.io.js"></script>
  <script>
    var socket = io();
    socket.on('contact-added', function (data) {
      console.log('asdasdasdasdsadasd');
    });

    var template = document.querySelector('#app');

      template.addEventListener('template-bound', function(e) {

      var button = document.querySelector('html /deep/ paper-fab');

      button.addEventListener('click', function(e) {
        socket.emit('contact-added', {message: 'You clicked the button'});
      });
    });

    // setTimeout(function() {
    //   socket.emit('data-client', {message: 'Data from client'});
    // }, 3000);
  </script>

  <script src="components/director/build/director.min.js"></script>
  <script src="scripts/router.js"></script>
</body>
</html>

#!/usr/bin/env node

/**
 * Module dependencies
 */
var app   = require('../wallet');
var http  = require('http');
var io    = require('socket.io')();
var debug = require('debug');

/**
 * The default port from which the server listens
 *
 * @type {Number}
 */
var port = app.get('port');

/**
 * Start up the server
 */
var server = http.Server(app).listen(port, function() {
  debug('Express is listening o port ' + port);
});

/**
 * Export the server
 */

io.attach(server);

io.on('connection', function(socket) {
 socket.on('data-client', function(msg) {
   console.log(msg);
 })
});

module.exports = io;
